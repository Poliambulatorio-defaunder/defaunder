<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>DEFAUNDER ‚Äî Poliambulatorio Polispecialistico</title>
  <meta name="description" content="DEFAUNDER: poliambulatorio polispecialistico. SPA single-file con Home, Storia, Servizi, Prestazioni, Login, Interfacce Medico e Paziente." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="icon" type="image/svg+xml" href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="12" cy="12" r="11" fill="%231f5e73"/><path d="M12 6v12M6 12h12" stroke="%23fff" stroke-width="2.2" stroke-linecap="round"/></svg>' />
  <style>
    :root{
      --bg:#f4f8f9;--paper:#ffffff;--ink:#0e2a35;--muted:#4f6b79;
      --brand:#1f5e73;--brand-2:#2c8b8b;--accent:#1e9aa6;
      --soft:#d8e9ee;--border:#c6d9df;--ring:0 0 0 3px rgba(30,154,166,.25);
      --shadow:0 8px 22px rgba(8,35,48,.15);
      --drop-bg:#ffffff; --drop-ink:#0e2a35;
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
    a{color:inherit;text-decoration:none}
    button{font:inherit}

    /* NAV */
    .nav{position:sticky;top:0;z-index:500;background:linear-gradient(90deg,var(--brand),var(--brand-2));color:#e6fbff;border-bottom:1px solid rgba(255,255,255,.22)}
    .nav .wrap{max-width:1180px;margin:0 auto;padding:12px 20px;display:flex;align-items:center;justify-content:space-between}
    .brand{display:flex;align-items:center;gap:12px;font-weight:900;letter-spacing:.2px}
    /* LOGO E TESTO INGRANDITI */
    .brand .logo{width:44px;height:44px}
    .brand span{font-size:24px;line-height:1;font-weight:900}

    .menu{display:flex;gap:6px;align-items:center}
    .menu>li{list-style:none;position:relative}
    .menu a,.menu button{color:#ecfeff;padding:10px 12px;border-radius:10px;font-weight:700;background:transparent;border:0;cursor:pointer}
    .menu a:hover,.menu button:hover{background:#ffffff2a}
    .dropdown{position:absolute;left:0;top:100%;min-width:260px;background:var(--drop-bg);color:var(--drop-ink);border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow);padding:8px;display:none;z-index:600}
    .dropdown a{display:block;padding:12px 14px;border-radius:10px;color:var(--ink);font-weight:700}
    .dropdown a:hover{background:#eef6f8}
    .open>.dropdown{display:block}
    .hamb{display:none;background:#fff;color:var(--brand);border:1px solid var(--border);border-radius:10px;padding:8px 10px;font-weight:800}
    @media (max-width: 900px){
      .menu{display:none}.hamb{display:block}
      .brand .logo{width:38px;height:38px}
      .brand span{font-size:20px}
      .mobile{display:none;position:absolute;inset:56px 0 auto 0;background:#fff;color:var(--ink);box-shadow:var(--shadow);border:1px solid var(--border)}
      .mobile a,.mobile button{display:block;width:100%;text-align:left;border:0;background:transparent;padding:14px 18px;font-weight:700}
      .mobile .group{border-top:1px dashed var(--border)}
      .mobile.open{display:block}
    }

    /* LAYOUT */
    .wrap{max-width:1180px;margin:0 auto;padding:0 20px}
    .section{padding:38px 0}
    .section-header{display:flex;align-items:baseline;justify-content:space-between;gap:12px;margin-bottom:10px}
    .section-header small{color:var(--muted)}

    /* HERO */
    .hero{position:relative;display:grid;grid-template-columns:1.1fr 1fr;gap:28px;align-items:center;padding:64px 0;border-bottom:1px solid var(--border)}
    .hero:before{content:"";position:absolute;inset:0;background:
      radial-gradient(1200px 500px at -10% -20%, #bfe3ea, transparent 60%),
      radial-gradient(900px 400px at 120% -10%, #b9e0dd, transparent 60%),
      linear-gradient(#ffffff, #f3f9fa 60%);z-index:-1}
    .hero h1{font-size:44px;line-height:1.12;margin:10px 0}
    .hero p{color:var(--muted);font-size:18px;margin:0 0 18px}
    .badge{display:inline-flex;gap:8px;align-items:center;background:#fff;border:1px solid var(--border);color:var(--brand);padding:6px 10px;border-radius:999px;font-weight:800}
    .cta{display:flex;gap:10px;flex-wrap:wrap}
    .btn{appearance:none;border:1px solid transparent;border-radius:12px;padding:14px 18px;font-weight:800;cursor:pointer;color:#fff;background:var(--brand);box-shadow:var(--shadow)}
    .btn.alt{background:var(--brand-2)}
    .btn.ghost{background:#fff;color:var(--brand);border-color:var(--border)}
    .btn:focus-visible{outline:none;box-shadow:var(--ring)}

    /* CARDS e griglie */
    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
    .tile{background:var(--paper);border-radius:14px;box-shadow:var(--shadow);padding:18px;border:1px solid var(--border)}
    .tile h4{margin:0 0 6px}
    .muted{color:var(--muted)}
    .row{display:flex;align-items:flex-start;gap:12px}

    /* CHIPS */
    .chips{display:flex;gap:8px;flex-wrap:wrap}
    .chip{background:var(--soft);color:var(--brand);padding:8px 12px;border-radius:999px;font-weight:700;border:1px solid var(--border)}

    /* PRESTAZIONI */
    .list{display:grid;grid-template-columns:1fr 1fr;gap:14px}
    .rowline{display:flex;justify-content:space-between;gap:16px;background:var(--paper);border:1px solid var(--border);border-radius:12px;padding:12px 14px;box-shadow:var(--shadow)}
    .price-tag{font-weight:800;color:var(--brand)}

    /* LOGIN */
    .login-card{max-width:840px;margin:0 auto;display:grid;grid-template-columns:1fr;gap:18px;align-items:stretch}
    .login-card .form{background:var(--paper);border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow);padding:22px}
    .login-title{font-weight:900;margin:0 0 6px;font-size:22px}
    .login-sub{color:var(--muted);margin:0 0 16px}
    label{font-size:13px;color:var(--muted);display:block;margin-bottom:6px}
    input{width:100%;padding:12px;border:1px solid var(--border);border-radius:10px;background:#fff;color:var(--ink)}
    .login-actions{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:14px}
    .split-actions{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:10px}
    .note{background:#fff;border:1px dashed var(--border);border-radius:10px;padding:10px;color:var(--muted);margin-top:12px}

    /* STORIA */
    .story-hero{padding:54px 0;border-bottom:1px solid var(--border);background:linear-gradient(180deg,#ffffff, #eef6f8)}
    .story-hero h2{font-size:38px;margin:0}
    .story-quote{font-size:22px;font-weight:800;color:var(--brand);margin:14px 0}
    .story-lead{font-size:18px;color:var(--muted);max-width:900px}
    .timeline{position:relative;padding-left:28px;margin-top:16px}
    .timeline:before{content:"";position:absolute;left:12px;top:0;bottom:0;width:2px;background:var(--border)}
    .tl-item{position:relative;margin:18px 0;padding-left:16px}
    .tl-item:before{content:"";position:absolute;left:-2px;top:8px;width:12px;height:12px;background:var(--brand-2);border-radius:999px;box-shadow:0 0 0 3px #2c8b8b22}
    .tl-item strong{font-size:18px}
    .tl-item .muted{font-size:16px}


    /* CONTATTI */
    .contatti-hero{padding:54px 0;border-bottom:1px solid var(--border);background:linear-gradient(180deg,#ffffff, #eef6f8)}
    .contatti-hero h2{font-size:38px;margin:0}
    .contatti-quote{font-size:22px;font-weight:800;color:var(--brand);margin:14px 0}
    .contatti-lead{font-size:18px;color:var(--muted);max-width:900px}
    .timeline{position:relative;padding-left:28px;margin-top:16px}
    .timeline:before{content:"";position:absolute;left:12px;top:0;bottom:0;width:2px;background:var(--border)}
    .tl-item{position:relative;margin:18px 0;padding-left:16px}
    .tl-item:before{content:"";position:absolute;left:-2px;top:8px;width:12px;height:12px;background:var(--brand-2);border-radius:999px;box-shadow:0 0 0 3px #2c8b8b22}
    .tl-item strong{font-size:18px}
    .tl-item .muted{font-size:16px}

    /* FOOTER */
    footer{margin-top:28px;background:linear-gradient(90deg,var(--brand),var(--brand-2));color:#dff7f7}
    footer .foot{display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap;padding:20px 20px}

    @media (max-width:1000px){.hero{grid-template-columns:1fr}.grid{grid-template-columns:1fr 1fr}.list{grid-template-columns:1fr}.login-card{grid-template-columns:1fr}}
    @media (max-width:640px){.grid{grid-template-columns:1fr}}

    /* APP */
    #app{min-height:60vh}
    .nav .active{background:#ffffff33}

    /* CHATBOT WRAPPER */
.chatbot {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 320px;
  height: 420px;
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 4px 14px rgba(0,0,0,0.2);
  display: none;
  flex-direction: column;
  overflow: hidden;
  z-index: 999;
}

/* HEADER */
.chat-header {
  background: #0a3d62;
  color: #fff;
  padding: 10px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.chat-header button {
  background: transparent;
  border: none;
  color: white;
  font-size: 16px;
  cursor: pointer;
}

/* BODY */
.chat-body {
  flex: 1;
  padding: 10px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
}

/* MESSAGGI */
.msg {
  padding: 8px 12px;
  border-radius: 8px;
  margin-bottom: 10px;
  max-width: 85%;
  line-height: 1.4;
}

.msg.bot {
  background: #dff5fd;
  align-self: flex-start;
}

.msg.user {
  background: #e6e6e6;
  align-self: flex-end;
}

/* INPUT AREA */
.chat-input {
  display: flex;
  border-top: 1px solid #ddd;
}

.chat-input input {
  flex: 1;
  border: none;
  padding: 10px;
  outline: none;
  font-size: 14px;
}

.chat-input button {
  width: 50px;
  border: none;
  background: #0a3d62;
  color: white;
  cursor: pointer;
}

/* FLOATING BUTTON */
.chat-floating {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 60px;
  height: 60px;
  background: #0a3d62;
  color: #fff;
  border-radius: 50%;
  font-size: 26px;
  border: none;
  box-shadow: 0 4px 14px rgba(0,0,0,0.3);
  cursor: pointer;
  z-index: 998;
}
  </style>
</head>
<body>
  
  <!-- NAV -->
  <header class="nav">
    <div class="wrap">
      <div class="brand">
        <svg class="logo" viewBox="0 0 24 24" aria-label="Logo DEFAUNDER"><defs><linearGradient id="g" x1="0" x2="1"><stop offset="0" stop-color="#fff"/><stop offset="1" stop-color="#e6ffff"/></linearGradient></defs><circle cx="12" cy="12" r="10" fill="none" stroke="#fff" stroke-width="1.6"/><path d="M12 6v12M6 12h12" stroke="#fff" stroke-width="2.2" stroke-linecap="round"/><path d="M12 4.8l1.6 1.4 2-.4-1 1.8 1 1.8-2-.4-1.6 1.4-1.6-1.4-2 .4 1-1.8-1-1.8 2 .4z" fill="url(#g)" opacity=".85"/></svg>
        <span>DEFAUNDER</span>
      </div>
      <button class="hamb" id="hamb">‚ò∞</button>
      <ul class="menu" id="menu" aria-label="Menu principale">
        <li><a data-link href="#/home" id="nav-home">Home</a></li>
        <li><a data-link href="#/storia" id="nav-storia">Storia</a></li>
        <li><a data-link href="#/contatti" id="nav-contatti">Contatti</a></li>
        <li><a data-link href="#/servizi" id="nav-servizi">Servizi</a></li>
        <li><a data-link href="#/prestazioni" id="nav-prestazioni">Prestazioni</a></li>
        <li>
          <button type="button" data-dd="dd-login" aria-haspopup="true" aria-expanded="false">Login ‚ñæ</button>
          <div class="dropdown" id="dd-login">
            <a data-link href="#/login">Accedi</a>
          </div>
        </li>
        <li><a data-link href="#/lingua" id="nav-lingua">IT | EN</a></li>
      </ul>
    </div>
    <div class="mobile" id="mobile">
      <a data-link href="#/home">Home</a>
      <a data-link href="#/storia">Storia</a>
      <a data-link href="#/contatti">Contatti</a>
      <a data-link href="#/servizi">Servizi</a>
      <a data-link href="#/prestazioni">Prestazioni</a>
      <div class="group">
        <button data-ddm="m-login">Login ‚ñæ</button>
        <div id="m-login" style="display:none">
          <a data-link href="#/login">Accedi</a>
        </div>
      </div>
    </div>
  </header>

  <!-- APP -->
  <main id="app" aria-live="polite"></main>

  <footer>
    <div class="wrap foot">
      <div>¬© 2025 DEFAUNDER ‚Äî Poliambulatorio Polispecialistico</div>
      <div><a data-link href="#/home" style="color:#fff">Home</a> ¬∑ <a data-link href="#/servizi" style="color:#fff">Servizi</a> ¬∑ <a data-link href="#/prestazioni" style="color:#fff">Prestazioni</a> ¬∑ <a data-link href="#/contatti" style="color:#fff">Contatti</a> ¬∑ <a data-link href="#/contatti#privacy" style="color:#fff">Privacy</a></div>
    </div>
  </footer>

  <!-- TEMPLATES: HOME, STORIA, CONTATTI, SERVIZI, PRESTAZIONI, LOGIN, PAZIENTE -->
  <template id="tpl-home">
    <section id="home" class="hero wrap">
      <div>
        <span class="badge">Poliambulatorio polispecialistico</span>
        <h1>Benvenuto in DEFAUNDER</h1>
        <p>Ambienti curati, processi semplici e trasparenti per pazienti e professionisti. Struttura di <b>400 m¬≤</b> in zona facilmente accessibile con auto e mezzi, con posto auto garantito.</p>
        <div class="cta">
          <a class="btn alt" data-link href="#/login">Entra come Paziente</a>
          <a class="btn ghost" data-link href="#/servizi">Scopri i servizi</a>
          <a class="btn ghost" data-link href="#/disponibilita">Disponibilit√† visita</a>
        </div>
      </div>
      <div class="tile">
        <strong>Punti chiave</strong>
        <div class="chips" style="margin-top:8px">
          <span class="chip">Accoglienza</span>
          <span class="chip">Ambulatori attrezzati</span>
          <span class="chip">Self Check-in</span>
          <span class="chip">Tecnologia all'avanguardia</span>
          <span class="chip">Prenotazione assistita</span>
          <span class="chip">Pulizia & qualit√†</span>
          <span class="chip">Privacy & comfort</span>
        </div>
        <p class="muted" style="margin-top:10px">Un'unica piattaforma per gestire prenotazioni, pagamenti e documenti con la massima semplicit√†.</p>
      </div>
    </section>
  </template>

  <template id="tpl-storia">
    <section class="story-hero">
      <div class="wrap">
        <h2>La nostra storia</h2>
        <p class="story-quote">‚ÄúLa sanit√† √® prima di tutto relazione, ascolto e fiducia ‚Äî ogni processo deve servire la cura, non il contrario.‚Äù</p>
        <p class="story-lead">Mettiamo al centro persone e qualit√†: ambienti accoglienti, strumenti aggiornati e un‚Äôorganizzazione che facilita il lavoro clinico e l‚Äôesperienza del paziente.</p>
      </div>
    </section>
    <section class="section">
      <div class="wrap">
        <div class="timeline">
          <div class="tl-item"><strong>2017 ‚Äî L'idea</strong><div class="muted">Nasce DEFAUNDER: una struttura che unisce spazi clinici moderni e servizi digitali intuitivi.</div></div>
          <div class="tl-item"><strong>2019 ‚Äî La prima sede</strong><div class="muted">Apertura del poliambulatorio di 400 m¬≤: accoglienza, ambulatori e diagnostica di base.</div></div>
          <div class="tl-item"><strong>2021 ‚Äî La piattaforma</strong><div class="muted">Prenotazioni online, pagamenti digitali e aree personali per medici e pazienti.</div></div>
          <div class="tl-item"><strong>2023 ‚Äî Qualit√† e sicurezza</strong><div class="muted">Standard di pulizia potenziati, infrastruttura IT protetta e governance della qualit√†.</div></div>
          <div class="tl-item"><strong>Oggi ‚Äî Continuit√† di cura</strong><div class="muted">Processi pi√π rapidi, coordinamento di team e comunicazioni chiare (e‚Äëmail/SMS) a supporto della relazione di cura.</div></div>
        </div>
        <div class="tile" style="margin-top:16px">
          <h4>La nostra visione</h4>
          <p class="muted">Crediamo in una sanit√† concreta e umana: tecnologie semplici, spazi pensati per il benessere, tempi certi e un rapporto trasparente con pazienti e professionisti.</p>
        </div>
      </div>
    </section>
  </template>

  
  <template id="tpl-contatti">
    <section class="contatti-hero">
      <div class="wrap">
        <h2>Come contattarci</h2>
        <p class="contatti-quote">Siamo qui per rispondere a ogni necessit√†.</p>
        <p class="contatti-lead">Raggiungerci √® semplice: scegli il canale che preferisci.</p>
      </div>
    </section>
  
    <section class="section">
      <div class="wrap">
  
        <div class="timeline">
  
          <div class="tl-item">
            <strong>Email</strong>
            <div class="muted">info@poliambulatoriodefaunder.it</div>
          </div>
  
          <div class="tl-item">
            <strong>Telefono</strong>
            <div class="muted">+39 000 000 0000</div>
          </div>
  
          <div class="tl-item">
            <strong>Orari di apertura</strong>
            <div class="muted">
              Lun‚ÄìVen: 8.00‚Äì19.00<br>
              Sab: 8.00‚Äì13.00
            </div>
          </div>
  
          <div class="tl-item">
            <strong>Indirizzo</strong>
            <div class="muted">Via Risorgimento 33, Milano</div>
          </div>
  
        </div>
  
        <!-- MAPPA + PULSANTE -->
        <div class="tile" style="margin-top:24px; padding:0; overflow:hidden; position:relative;">
  
          <!-- IFRAME MAPPA -->
          <iframe
            width="100%"
            height="350"
            style="border:0; border-radius:16px;"
            loading="lazy"
            allowfullscreen
            referrerpolicy="no-referrer-when-downgrade"
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2797.9244458122956!2d9.1900!3d45.4642!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4786c6a5e1234567%3A0xabcdef123456789!2sMilano%20Duomo!5e0!3m2!1sit!2sit!4v000000000">
          </iframe>
  
          <!-- BOTTONE ANIMATO -->
          <a 
            href="https://maps.google.com/?q=Via+Esempio+12,+Milano" 
            target="_blank"
            class="btn-maps">
            Apri in Google Maps
          </a>
  
        </div>
  
        <div class="tile" id="privacy" style="margin-top:16px">
          <h4>La privacy una nostra priorit√†</h4>
          <p class="muted">
            Privacy
            I dati personali raccolti tramite questo sito e durante le prestazioni sanitarie sono trattati nel rispetto del Regolamento UE 2016/679 (GDPR) e delle normative vigenti. 
            Le informazioni sono utilizzate esclusivamente per finalit√† di prenotazione, gestione delle visite e adempimenti di legge. Per maggiori dettagli consulta la nostra [Informativa Privacy].
          </p>
        </div>
  
      </div>
    </section>
  </template>

  <template id="tpl-servizi">
    <section class="section">
      <div class="wrap">
        <div class="section-header"><h3>Servizi</h3><small>Essenziali, chiari e ben organizzati</small></div>
        <div class="grid">
          <article class="tile"><h4>Accoglienza & Segreteria</h4><p class="muted">Gestione appuntamenti, nuove prenotazioni e pagamenti, con aggiornamento agenda in tempo reale.</p></article>
          <article class="tile"><h4>Ambienti & Spazi</h4><p class="muted">Ambulatori curati con arredo essenziale e attrezzature disponibili su richiesta.</p></article>
          <article class="tile"><h4>Diagnostica</h4><p class="muted">Esami e referti in tempi rapidi, con macchinari certificati e non obsoleti.</p></article>
          <article class="tile"><h4>Qualit√† & Igiene</h4><p class="muted">Pulizia periodica di ogni ambiente e controllo costante del servizio esterno di sanificazione.</p></article>
          <article class="tile"><h4>Privacy & Sicurezza</h4><p class="muted">Infrastruttura digitale protetta, in linea con la normativa sulla tutela dei dati dei pazienti.</p></article>
          <article class="tile"><h4>Supporto al Medico</h4><p class="muted">Spogliatoio con armadietti personali, posto auto riservato e assistenza tecnica tempestiva.</p></article>
        </div>
      </div>
    </section>
  </template>

  <template id="tpl-prestazioni">
    <section class="section">
      <div class="wrap">
        <div class="section-header"><h3>Prestazioni</h3><small>Elenco indicativo delle visite</small></div>
        <h4>Visite di base (circa ‚Ç¨50‚Äì‚Ç¨100)</h4>
        <div class="list" style="margin:10px 0 20px">
          <div class="rowline"><span>Visita di base</span><span class="price-tag">‚Ç¨50‚Äì‚Ç¨70</span></div>
          <div class="rowline"><span>Controllo generale</span><span class="price-tag">‚Ç¨60‚Äì‚Ç¨90</span></div>
          <div class="rowline"><span>ECG / valutazione base</span><span class="price-tag">‚Ç¨70‚Äì‚Ç¨100</span></div>
          <div class="rowline"><span>Visita nutrizionistica (base)</span><span class="price-tag">‚Ç¨80‚Äì‚Ç¨100</span></div>
        </div>
        <h4>Visite specialistiche (circa ‚Ç¨100‚Äì‚Ç¨300)</h4>
        <div class="list">
          <div class="rowline"><span>Visita cardiologica</span><span class="price-tag">‚Ç¨120‚Äì‚Ç¨180</span></div>
          <div class="rowline"><span>Visita dermatologica</span><span class="price-tag">‚Ç¨110‚Äì‚Ç¨160</span></div>
          <div class="rowline"><span>Visita ortopedica</span><span class="price-tag">‚Ç¨120‚Äì‚Ç¨200</span></div>
          <div class="rowline"><span>Visita endocrinologica</span><span class="price-tag">‚Ç¨130‚Äì‚Ç¨200</span></div>
          <div class="rowline"><span>Visita gastroenterologica</span><span class="price-tag">‚Ç¨150‚Äì‚Ç¨220</span></div>
          <div class="rowline"><span>Visita neurologica</span><span class="price-tag">‚Ç¨150‚Äì‚Ç¨250</span></div>
          <div class="rowline"><span>Check‚Äëup completo</span><span class="price-tag">‚Ç¨250‚Äì‚Ç¨300</span></div>
        </div>
        <p class="muted" style="margin-top:8px">I prezzi sono indicativi e possono variare in base alla complessit√† della visita o degli esami.</p>
      </div>
    </section>
  </template>

  <template id="tpl-login">
    <section class="section" id="login">
      <div class="wrap">
        <div class="section-header"><h3>Accesso</h3><small>Interfaccia dimostrativa (estetica)</small></div>
        <div class="login-card" role="region" aria-label="Accesso" style="grid-template-columns:1fr;max-width:520px">
          <div class="form">
            <h4 class="login-title">Benvenuto</h4>
            <p class="login-sub">Inserisci le credenziali e accedi all'area riservata.</p>
            <label>Username o e‚Äëmail</label>
            <input type="email" placeholder="nome@esempio.it">
            <label style="margin-top:10px">Password</label>
            <input type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
            <div class="login-actions">
              <a class="btn ghost" data-link href="#/home">Annulla</a>
              <a class="btn" data-link href="#/paziente" style="text-align:center">Entra come Paziente</a>
            </div>
          </div>
        </div>
      </div>
    </section>
  </template>



  <template id="tpl-disponibilita">
    <section class="section">
      <div class="wrap">
        <h2>Verifica Disponibilit√† Visite</h2>
  
             <!-- STEP 1 -->
        <div id="disp-step-1">
          <label for="visitaDisp">Seleziona la visita:</label>
          <select id="visitaDisp" style="width:100%; padding:10px; margin:10px 0;">
            <option value="">-- scegli --</option>
            <option value="cardiologia">Visita cardiologica</option>
            <option value="dermatologia">Visita dermatologica</option>
            <option value="ortopedia">Visita ortopedica</option>
            <option value="endocrinologia">Visita endocrinologica</option>
            <option value="gastroenterologia">Visita gastroenterologica</option>
            <option value="neurologia">Visita neurologica</option>
          </select>
        
          <label for="dataDisp">Data desiderata:</label>
          <input type="date" id="dataDisp" style="width:100%; padding:10px; margin:10px 0;">
        
          <div class="login-actions">
            <button class="btn ghost" id="disp-back1">Indietro</button>
            <button class="btn alt" id="disp-next1">Avanti</button>
          </div>
        </div>
        
        <!-- STEP 2 -->
        <div id="disp-step-2" style="display:none; margin-top:24px;">
          <h3>Scegli una data disponibile</h3>
        
          <div style="display:flex; gap:40px; align-items:flex-start; flex-wrap:wrap; margin-top:12px;">
            
            <!-- LISTA DATE DISP (ORIZZONTALE, grande) -->
            <ul id="disp-calendar" style="list-style:none; padding:0; margin:0; display:flex; gap:20px; font-size:18px;">
              <li style="display:flex; align-items:center; gap:8px;">
                <input type="radio" name="slotDisp" value="23-12-2025" style="width:20px; height:20px;">
                23 Dicembre 2025
              </li>
              <li style="display:flex; align-items:center; gap:8px;">
                <input type="radio" name="slotDisp" value="27-12-2025" style="width:20px; height:20px;">
                27 Dicembre 2025
              </li>
              <li style="display:flex; align-items:center; gap:8px;">
                <input type="radio" name="slotDisp" value="02-01-2026" style="width:20px; height:20px;">
                02 Gennaio 2026
              </li>
            </ul>
        
            <!-- DATA EXTRA PI√ô A DESTRA -->
            <div style="margin-left:auto; min-width:220px;">
              <label for="slotExtra">Oppure scegli un‚Äôaltra data:</label>
              <input type="date" id="slotExtra" style="padding:10px; font-size:16px; width:100%; margin-top:6px;">
            </div>
        
          </div>
        
          <!-- PULSANTI IN BASSO -->
          <div class="login-actions" style="margin-top:20px;">
            <button class="btn ghost" id="disp-back2">Indietro</button>
            <button class="btn alt" id="disp-next2">Avanti</button>
          </div>
        </div>
  
  
        <!-- STEP 3  -->
        <div id="disp-step-3" style="display:none;">
          <h3>Conferma</h3>
          <p>Visita: <b id="disp-sel-visita"></b></p>
          <p>Data scelta: <b id="disp-sel-data"></b></p>
          <div class="login-actions">
            <button class="btn ghost" id="disp-back3">Indietro</button>
            <button class="btn alt" id="disp-next3">Vai ad Area Riservata</button>
          </div>
        </div>
  
      </div>
    </section>
  </template>


  
  <template id="tpl-paziente">
  <main class="section">
    <div class="wrap">

      <!-- HEADER AREA PAZIENTE -->
      <div class="user-header" style="display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:12px">
        <span class="chip" style="background:var(--brand);color:#fff;border-color:var(--brand)">
          Area Riservata - paziente
        </span>

        <!-- Indietro LOGIN -->
        <a class="btn ghost" id="back-login" data-link href="#/login#scelta">‚Üê Indietro</a>

        <!-- Indietro AREA (solo nelle sottosezioni) -->
        <button class="btn ghost" id="back-area" style="display:none">‚Üê Indietro</button>
      </div>

      <div class="chips" style="margin-bottom:12px"></div>

      <!-- GRIGLIA PRINCIPALE -->
      <div class="grid" id="area-grid">
        <div class="tile area-btn" data-target="anagrafica"><h4>Anagrafica</h4></div>
        <div class="tile area-btn" data-target="prenotazione"><h4>Prenotazione</h4></div>
        <div class="tile area-btn" data-target="pagamento"><h4>Pagamento</h4></div>
        <div class="tile area-btn" data-target="documentazione"><h4>Documentazione</h4></div>
        <div class="tile area-btn" data-target="notifiche"><h4>Notifiche & Self Check-in</h4></div>
        <div class="tile area-btn" data-target="referti"><h4>Referti</h4></div>
      </div>

      <!-- DETTAGLIO SEZIONE -->
      <div id="area-detail" style="display:none;">
        <!-- Div per nuova prenotazione, nascosto di default -->
        <div id="new-booking" style="display:none; margin-top:16px;"></div>
      </div>
      
      <div class="tile" style="margin-top:16px">
        <strong>Hai bisogno di aiuto?</strong>
        <p class="muted">Usa la sezione contatti.</p>
      </div>

    </div>
  </main>
</template>





  <script>
    const routes = {
      '/home': document.getElementById('tpl-home'),
      '/storia': document.getElementById('tpl-storia'),
      '/contatti': document.getElementById('tpl-contatti'),
      '/servizi': document.getElementById('tpl-servizi'),
      '/prestazioni': document.getElementById('tpl-prestazioni'),
      '/login': document.getElementById('tpl-login'),
      '/paziente': document.getElementById('tpl-paziente'),
      '/disponibilita': document.getElementById('tpl-disponibilita')
    };
    
    const app = document.getElementById('app');

    function render(){
      const hash = location.hash || '#/home';
      const route = hash.replace(/^#/, '').split('#')[0];
      const tpl = routes[route] || routes['/home'];
      
      app.innerHTML = tpl ? tpl.innerHTML : '';
      
      document.querySelectorAll('.nav a[data-link]').forEach(a=>a.classList.remove('active'));
      const navMap = { '/home':'nav-home', '/storia':'nav-storia', '/servizi':'nav-servizi', '/prestazioni':'nav-prestazioni' };
      const id = navMap[route]; if(id) document.getElementById(id)?.classList.add('active');
      const anchor = location.hash.split('#')[2];
      if(anchor){ setTimeout(()=>{ document.getElementById(anchor)?.scrollIntoView({behavior:'smooth'}); }, 0); }
      document.querySelectorAll('.menu > li').forEach(x=>x.classList.remove('open'));
    
      // inizializza i bottoni della disponibilit√† 
      if(route === '/disponibilita'){
        initDisponibilita();
      }
      // inizializza i bottoni per paziente
      if(route === '/paziente'){
        initPatientArea();
      }
    }

    window.addEventListener('hashchange', render);
    document.addEventListener('DOMContentLoaded', render);

    document.addEventListener('click', (e)=>{
      const a = e.target.closest('a[data-link]');
      if(a){ e.preventDefault(); location.hash = a.getAttribute('href'); }
    });

    document.querySelectorAll('.menu [data-dd]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const li = btn.parentElement; const open = li.classList.contains('open');
        document.querySelectorAll('.menu > li').forEach(x=>x.classList.remove('open'));
        document.querySelectorAll('.menu [data-dd]').forEach(b=>b.setAttribute('aria-expanded','false'));
        if(!open){li.classList.add('open'); btn.setAttribute('aria-expanded','true');}
      });
    });
    document.addEventListener('click', e=>{ if(!e.target.closest('.menu')){ document.querySelectorAll('.menu > li').forEach(x=>x.classList.remove('open')); }});

    const hamb = document.getElementById('hamb');
    const mobile = document.getElementById('mobile');
    hamb && hamb.addEventListener('click', ()=> mobile.classList.toggle('open'));
    document.querySelectorAll('[data-ddm]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const id = btn.getAttribute('data-ddm');
        const dd = document.getElementById(id);
        dd.style.display = dd.style.display === 'block' ? 'none' : 'block';
      });
    });

    

function initPatientArea() {
  const grid = document.getElementById('area-grid');
  const detail = document.getElementById('area-detail');
  const backLogin = document.getElementById('back-login');
  const backArea = document.getElementById('back-area');

  if (!grid || !detail || !backLogin || !backArea) return;

  // stato
  let inDetail = false;

  // funzione torna alla griglia
  function goToGrid() {
    detail.style.display = 'none';
    grid.style.display = 'grid';
    backArea.style.display = 'none';
    backLogin.style.display = 'inline-flex';
    inDetail = false;
  }

  // click sulle tile
  grid.querySelectorAll('.area-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      const target = btn.dataset.target.toLowerCase();

      grid.style.display = 'none';
      detail.style.display = 'block';
      backLogin.style.display = 'none';
      backArea.style.display = 'inline-flex';
      inDetail = true;

      // contenuto dinamico
      if (target === 'referti') {
        detail.innerHTML = `
          <div class="tile">
            <h3>Visualizza referti passati</h3>
            <ul>
              <li>Referto 01/03/2025</li>
              <li>Referto 15/06/2025</li>
              <li>Referto 12/10/2025</li>
            </ul>
          </div>
          <div class="tile" style="margin-top:12px">
            <h3>Scarica nuovo referto</h3>
            <button class="btn alt" onclick="alert('Download simulato')">Scarica</button>
          </div>
        `;
      } 
      else if (target === 'documentazione') {
        detail.innerHTML = `
          <div class="tile">
            <h3>Documenti caricati</h3>
            <ul>
              <li>Referto cardiologico 01/03/2025</li>
              <li>Esame del sangue 15/06/2025</li>
              <li>Certificato medico 12/10/2025</li>
            </ul>
          </div>
          <div class="tile" style="margin-top:12px">
            <h3>Carica nuovo documento</h3>
            <input type="file" style="margin-bottom:8px">
            <button class="btn alt" onclick="alert('Upload simulato')">Carica</button>
          </div>
        `;
      } 

      else if (target === 'pagamento') {
        detail.innerHTML = `
          <!-- STORICO PAGAMENTI -->
          <div class="tile">
            <h3>Storico pagamenti</h3>
            <ul>
              <li>
                <b>Visita cardiologica</b><br>
                01/03/2025 ‚Äî ‚Ç¨180 ‚Äî <span class="muted">Pagato</span>
              </li>
              <li style="margin-top:8px">
                <b>ECG / valutazione base</b><br>
                15/06/2025 ‚Äî ‚Ç¨100 ‚Äî <span class="muted">Pagato</span>
              </li>
            </ul>
          </div>
      
          <!-- PAGAMENTI ATTIVI -->
          <div class="tile" style="margin-top:12px">
            <h3>Pagamenti attivi</h3>
      
            <div style="margin-top:10px">
              <b>Visita dermatologica</b><br>
              Importo: ‚Ç¨130
              <div style="margin-top:8px; display:flex; gap:8px; flex-wrap:wrap">
                <button class="btn ghost" onclick="alert('Pagamento in struttura selezionato')">
                  Paga in struttura
                </button>
                <button class="btn alt" onclick="alert('Pagamento online simulato')">
                  Paga ora
                </button>
              </div>
            </div>
      
            <hr style="margin:14px 0; border:none; border-top:1px dashed var(--border)">
      
            <div>
              <b>Visita ortopedica</b><br>
              Importo: ‚Ç¨150
              <div style="margin-top:8px; display:flex; gap:8px; flex-wrap:wrap">
                <button class="btn ghost" onclick="alert('Pagamento in struttura selezionato')">
                  Paga in struttura
                </button>
                <button class="btn alt" onclick="alert('Pagamento online simulato')">
                  Paga ora
                </button>
              </div>
            </div>
          </div>
        `;
      }

    else if (target === 'prenotazione') {
      detail.innerHTML = `
        <!-- STORICO PRENOTAZIONI -->
        <div class="tile">
          <h3>Storico prenotazioni</h3>
          <ul>
            <li>
              <b>Visita cardiologica</b><br>
              01/03/2025 ‚Äî ore 10:30 ‚Äî <span class="muted">Completata</span>
            </li>
            <li style="margin-top:8px">
              <b>Esame del sangue</b><br>
              15/06/2025 ‚Äî ore 08:45 ‚Äî <span class="muted">Completata</span>
            </li>
          </ul>
        </div>
    
        <!-- NUOVA PRENOTAZIONE -->
        <div class="tile" style="margin-top:12px">
          <h3>Effettua una nuova prenotazione</h3>
          <p class="muted">Prenota una nuova visita o esame.</p>
          <button class="btn alt" id="btn-new-booking">Nuova prenotazione</button>
        </div>
    
        <!-- MODIFICA PRENOTAZIONE -->
        <div class="tile" style="margin-top:12px">
          <h3>Modifica prenotazione attiva</h3>
          <p class="muted">
            Visita dermatologica ‚Äî 20/12/2025 ore 11:00
          </p>
          <button class="btn ghost" onclick="alert('Modifica prenotazione')">
            Modifica
          </button>
        </div>
    
        <!-- DISDICI PRENOTAZIONE -->
        <div class="tile" style="margin-top:12px">
          <h3>Disdici prenotazione attiva</h3>
          <p class="muted">
            Visita dermatologica ‚Äî 20/12/2025 ore 11:00
          </p>
          <button class="btn danger" onclick="alert('Prenotazione disdetta')">
            Disdici
          </button>
        </div>
    
        <!-- PRENOTAZIONE PER TERZI -->
        <div class="tile" style="margin-top:12px">
          <h3>Prenotazione per terzi</h3>
          <p class="muted">
            Prenota una visita per un familiare o assistito.
          </p>
          <button class="btn ghost" onclick="alert('Prenotazione per terzi')">
            Prenota per terzi
          </button>
        </div>
      `;
    
      // aggiungi l'event listener dopo che il pulsante √® nel DOM
      const btnNewBooking = document.getElementById('btn-new-booking');
      if(btnNewBooking){
        btnNewBooking.addEventListener('click', () => {
          initPatientBooking(); // avvia il flusso step-by-step
        });
      }
    }

      else {
        detail.innerHTML = `
          <div class="tile">
            <h3>${target.charAt(0).toUpperCase() + target.slice(1)}</h3>
            <p class="muted">Sezione <b>${target}</b> in costruzione.</p>
          </div>
        `;
      }
    });
  });

  // back AREA ‚Üí torna alla griglia
  backArea.addEventListener('click', goToGrid);
}

function initPatientBooking() {
  const grid = document.getElementById('area-grid');
  const detail = document.getElementById('area-detail');

  // Nascondi la griglia
  grid.style.display = 'none';
  detail.style.display = 'block';
  detail.innerHTML = ''; // pulisce eventuali contenuti precedenti

  // Step 1: selezione prestazione
  const step1 = document.createElement('div');
  step1.id = 'booking-step-1';
  step1.className = 'tile';
  step1.innerHTML = `
    <h3>Seleziona prestazione</h3>
    <select id="prestazione-select">
      <option value="">-- scegli --</option>
      <option value="cardiologia">Visita cardiologica</option>
      <option value="dermatologia">Visita dermatologica</option>
      <option value="ortopedia">Visita ortopedica</option>
    </select>
    <div class="login-actions">
      <button class="btn ghost" id="booking-back">Indietro</button>
      <button class="btn alt" id="booking-next-1">Avanti</button>
    </div>
  `;
  detail.appendChild(step1);

  // Torna alla griglia
  document.getElementById('booking-back').addEventListener('click', () => {
    detail.style.display = 'none';
    grid.style.display = 'grid';
  });

  // Passa a step 2
  document.getElementById('booking-next-1').addEventListener('click', () => {
    const prestazione = document.getElementById('prestazione-select').value;
    if(!prestazione){ alert('Seleziona una prestazione'); return; }

    step1.style.display = 'none';

    const step2 = document.createElement('div');
    step2.id = 'booking-step-2';
    step2.className = 'tile';
    step2.innerHTML = `
      <h3>Seleziona data e ora</h3>
      <input type="date" id="booking-date">
      <input type="time" id="booking-time">
      <div class="login-actions">
        <button class="btn ghost" id="booking-back-2">Indietro</button>
        <button class="btn alt" id="booking-next-2">Avanti</button>
      </div>
    `;
    detail.appendChild(step2);

    document.getElementById('booking-back-2').addEventListener('click', () => {
      step2.remove();
      step1.style.display = 'block';
    });

    document.getElementById('booking-next-2').addEventListener('click', () => {
      const date = document.getElementById('booking-date').value;
      const time = document.getElementById('booking-time').value;
      if(!date || !time){ alert('Seleziona data e ora'); return; }

      step2.style.display = 'none';

      const step3 = document.createElement('div');
      step3.id = 'booking-step-3';
      step3.className = 'tile';
      step3.innerHTML = `
        <h3>Conferma prenotazione</h3>
        <p>Prestazione: <b>${prestazione}</b></p>
        <p>Data: <b>${date}</b></p>
        <p>Ora: <b>${time}</b></p>
        <div class="login-actions">
          <button class="btn ghost" id="booking-back-3">Indietro</button>
          <button class="btn alt" id="booking-confirm">Conferma</button>
        </div>
      `;
      detail.appendChild(step3);

      document.getElementById('booking-back-3').addEventListener('click', () => {
        step3.remove();
        step2.style.display = 'block';
      });

      document.getElementById('booking-confirm').addEventListener('click', () => {
        alert(`Prenotazione confermata: ${prestazione} il ${date} alle ${time}`);
        // torna alla griglia
        detail.style.display = 'none';
        grid.style.display = 'grid';
        detail.innerHTML = '';
      });
    });
  });
}

    
    </script>
      <!-- CHATBOT FLOTTANTE -->
    <button id="chatOpenBtn" class="chat-floating">üí¨</button>
    
    <div id="chatbot" class="chatbot">
      <div class="chat-header">
        <span>Chat DEFAUNDER</span>
        <button id="chatCloseBtn">‚úï</button>
      </div>
      <div id="chatBody" class="chat-body">
        <!-- i messaggi appariranno qui -->
      </div>
      <div class="chat-input">
        <input type="text" id="chatInput" placeholder="Scrivi un messaggio...">
        <button id="chatSendBtn">‚Üí</button>
      </div>
    </div>
    
    <script>
    const chatBtn = document.getElementById("chatOpenBtn");
    const chatBox = document.getElementById("chatbot");
    const chatClose = document.getElementById("chatCloseBtn");
    const chatBody = document.getElementById("chatBody");
    const chatInput = document.getElementById("chatInput");
    const chatSend = document.getElementById("chatSendBtn");
    
    // Apri la chat
    chatBtn.addEventListener("click", () => {
      chatBox.style.display = "flex";
      chatBtn.style.display = "none";
    });
    
    // Chiudi la chat
    chatClose.addEventListener("click", () => {
      chatBox.style.display = "none";
      chatBtn.style.display = "block";
    });
    
    // Funzione invio messaggio
    function sendMessage() {
      const text = chatInput.value.trim();
      if(!text) return;
    
      // messaggio utente
      chatBody.innerHTML += `<div class="msg user">${text}</div>`;
      chatBody.scrollTop = chatBody.scrollHeight;
      chatInput.value = "";
    
      // risposta bot (puoi personalizzare)
      let reply = "Non ho capito, riprova.";
      const msg = text.toLowerCase();
      if(msg.includes("prenot") || msg.includes("visita")) reply="Vuoi prenotare una visita? Quale specialit√† ti interessa?";
      else if(msg.includes("refert") || msg.includes("document")) reply="Vuoi caricare o scaricare un referto?";
      else if(msg.includes("pag") || msg.includes("costo")) reply="Per i pagamenti trovi una sezione dedicata nell'area riservata.";
      else if(msg.includes("ciao")) reply="Ciao! Sono qui per aiutarti üòä";
    
      setTimeout(() => {
        chatBody.innerHTML += `<div class="msg bot">${reply}</div>`;
        chatBody.scrollTop = chatBody.scrollHeight;
      }, 400);
    }
    
    // Invio con pulsante o Enter
    chatSend.addEventListener("click", sendMessage);
    chatInput.addEventListener("keypress", e => { if(e.key === "Enter") sendMessage(); });
    </script>

<script>

// --- FUNZIONI STEP DISPONIBILIT√Ä ---
function initDisponibilita() {

  const step1 = document.getElementById("disp-step-1");
  const step2 = document.getElementById("disp-step-2");
  const step3 = document.getElementById("disp-step-3");

  // BOTTONI
  document.getElementById("disp-next1").onclick = () => {
    step1.style.display = "none";
    step2.style.display = "block";
  };

  document.getElementById("disp-back1").onclick = () => {
    history.back();
  };

  document.getElementById("disp-back2").onclick = () => {
    step2.style.display = "none";
    step1.style.display = "block";
  };

document.getElementById("disp-next2").onclick = () => {
  step2.style.display = "none";
  step3.style.display = "block";

  const visita = document.getElementById("visitaDisp").value;
  
  // Prendi data selezionata
  let data = document.querySelector("input[name='slotDisp']:checked")?.value;

  // Se l‚Äôutente ha scelto una data extra, sovrascrive
  const extra = document.getElementById("slotExtra").value;
  if(extra) data = extra;

  // Trasforma in gg-mm-yyyy
  if(data) {
    const d = new Date(data);
    const day = String(d.getDate()).padStart(2,'0');
    const month = String(d.getMonth()+1).padStart(2,'0'); // mesi da 0 a 11
    const year = d.getFullYear();
    data = `${day}-${month}-${year}`;
  }

  document.getElementById("disp-sel-visita").textContent = visita || "‚Äî";
  document.getElementById("disp-sel-data").textContent = data || "‚Äî";
};


  document.getElementById("disp-back3").onclick = () => {
    step3.style.display = "none";
    step2.style.display = "block";
  };

  document.getElementById("disp-next3").onclick = () => { location.hash = "#/login"; };
  }
</script>

    
  </script>
</body>
</html>
